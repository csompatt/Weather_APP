"use strict";(self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[]).push([[186],{186:function(t,e,i){i.r(e),i.d(e,{default:function(){return g}});var s=i(252),a=i(577),c=i(963);const h=t=>((0,s.dD)("data-v-1622cd7c"),t=t(),(0,s.Cn)(),t),n={class:"search-location"},o=h((()=>(0,s._)("i",{class:"header__open-search-btn-icon fa-solid fa-magnifying-glass-location"},null,-1))),l=[o],u={key:0,class:"header__location-container"},r=h((()=>(0,s._)("i",{class:"fa-solid fa-location-dot header__location__icon"},null,-1))),p={class:"search-location__suggestion-list"},d=["onClick"];function m(t,e,i,h,o,m){return(0,s.wg)(),(0,s.iD)("section",n,[(0,s.wy)((0,s._)("input",{id:"search-input",class:"search-location__input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.searchInput=t),style:(0,a.j5)({width:o.searchInputWidth?"80%":"0"}),placeholder:"Search a location..."},null,4),[[c.nr,o.searchInput]]),(0,s._)("button",{class:"header__open-search-btn",style:(0,a.j5)({left:o.searchInputWidth?"95%":"1rem"}),onClick:e[1]||(e[1]=t=>m.toggleSearch())},l,4),o.showCityName?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("h1",null,(0,a.zw)(i.selectedCity),1),r])):(0,s.kq)("",!0),(0,s._)("ul",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.citiesList,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{class:"suggestion-list__item",onClick:t=>m.pushCityData(e),key:e},(0,a.zw)(t.cityListName),9,d)))),128))])])}var _={name:"searchLocation",emits:["pushCityData","closeSearch","showCityName"],props:["selectedCity"],data(){return{citiesList:[],searchInput:"",searchInputWidth:!1,showCityName:!0}},watch:{searchInputWidth(){const t=document.getElementById("search-input");this.searchInputWidth&&t.focus(),t.addEventListener("focusout",(()=>{this.searchInputWidth=!1})),this.searchInputWidth?this.showCityName=!this.searchInputWidth:setTimeout((()=>{this.showCityName=!0}),300),!1===this.searchInputWidth&&setTimeout((()=>{this.citiesList=[],this.searchInput=""}),50)},searchInput(){this.citiesList=[],this.searchInput.length>2&&fetch("https://api.locationiq.com/v1/autocomplete?key=pk.c92bde9b8fe296c7217ce940e120f424&q="+this.searchInput+"&limit=5&dedupe=1").then((t=>t.json())).then((t=>{for(let e=0;t.length>e;e++){let i=t[e],s={cityName:i.display_place,cityListName:i.display_name,latitude:i.lat,longitude:i.lon};this.citiesList.push(s)}}))}},methods:{closeSearch(){this.$emit("closeSearch")},toggleSearch(){this.searchInputWidth=!this.searchInputWidth,this.$emit("showCityName")},pushCityData(t){let e=this.citiesList[t];this.$emit("pushCityData",e.cityName,e.latitude,e.longitude),this.citiesList=[],this.searchInput=""}}},y=i(744);const I=(0,y.Z)(_,[["render",m],["__scopeId","data-v-1622cd7c"]]);var g=I}}]);
//# sourceMappingURL=186.000174bd.js.map